"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[2771],{1185:(t,e,i)=>{i.r(e),i.d(e,{assets:()=>d,contentTitle:()=>h,default:()=>g,frontMatter:()=>l,metadata:()=>s,toc:()=>x});const s=JSON.parse('{"id":"numerix/v1.0.0/benchmarks","title":"Benchmarks","description":"This PoC measures the performance of vector addition in Rust with and without compiler SIMD optimizations. Requests consist of repeated fixed-size vector addition operations processed in parallel by the CPU. These results provide perspective on how much faster SIMD makes vectorized computations, and similar improvements are expected for other vectorized operations in Numerix.","source":"@site/docs/numerix/v1.0.0/benchmarks.md","sourceDirName":"numerix/v1.0.0","slug":"/numerix/v1.0.0/benchmarks","permalink":"/BharatMLStack/numerix/v1.0.0/benchmarks","draft":false,"unlisted":false,"editUrl":"https://github.com/Meesho/BharatMLStack/tree/main/docs/docs/numerix/v1.0.0/benchmarks.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Benchmarks","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/BharatMLStack/numerix/v1.0.0/architecture"},"next":{"title":"Key Functionalities","permalink":"/BharatMLStack/numerix/v1.0.0/functionalities"}}');var r=i(4848),n=i(8453);const l={title:"Benchmarks",sidebar_position:2},h="Benchmarks (PoC)",d={},x=[{value:"System Configuration",id:"system-configuration",level:2},{value:"Vector Addition Performance",id:"vector-addition-performance",level:2},{value:"With SIMD",id:"with-simd",level:3},{value:"Without SIMD",id:"without-simd",level:3},{value:"Observations",id:"observations",level:2}];function c(t){const e={blockquote:"blockquote",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,n.R)(),...t.components};return(0,r.jsxs)(r.Fragment,{children:[(0,r.jsx)(e.header,{children:(0,r.jsx)(e.h1,{id:"benchmarks-poc",children:"Benchmarks (PoC)"})}),"\n",(0,r.jsxs)(e.p,{children:["This PoC measures the performance of ",(0,r.jsx)(e.strong,{children:"vector addition"})," in Rust ",(0,r.jsx)(e.strong,{children:"with and without compiler SIMD optimizations"}),". Requests consist of repeated fixed-size vector addition operations processed in parallel by the CPU. These results provide perspective on ",(0,r.jsx)(e.strong,{children:"how much faster SIMD makes vectorized computations"}),", and similar improvements are expected for other vectorized operations in Numerix."]}),"\n",(0,r.jsx)(e.h2,{id:"system-configuration",children:"System Configuration"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Instance Type"}),": c4a-highcpu-16"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Processor"}),": Google Axion (ARMv9, 64-bit)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"SIMD Extension"}),": SVE2"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"OS"}),": Linux (Ubuntu 22.04)"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Rust Version"}),": rustc 1.80.0"]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Target Triple"}),": aarch64-unknown-linux-gnu"]}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"vector-addition-performance",children:"Vector Addition Performance"}),"\n",(0,r.jsx)(e.h3,{id:"with-simd",children:"With SIMD"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Vector Dim"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"ns per op"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Iterations"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Throughput (GiB/s)"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Total CPU (raw)"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Total CPU (normalized)"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"10"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"0.39626 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"170,057,457,941"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"376.04"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1564%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"97.75%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"50"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"0.6641 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"94,342,709,095"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1121.9"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1590%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"99.38%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1.1522 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"51,705,835,397"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1286.9"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1560%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"97.50%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"500"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"5.0649 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"12,061,753,661"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1471"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1538%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"96.12%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"9.648 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"6,488,848,705"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1544.5"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1570%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"98.12%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"5000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"52.925 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,169,316,813"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1407.8"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1590%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"99.38%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"10000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"114.68 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"555,779,981"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1299.4"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1592%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"99.50%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"50000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"644.60 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"94,372,153"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1155.9"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1560%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"97.50%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1.4530 \xb5s"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"42,502,201"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1025.5"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1526%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"95.38%"})]})]})]}),"\n",(0,r.jsx)(e.h3,{id:"without-simd",children:"Without SIMD"}),"\n",(0,r.jsxs)(e.table,{children:[(0,r.jsx)(e.thead,{children:(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Vector Dim"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"ns per op"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Iterations"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Throughput (GiB/s)"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Total CPU (raw)"}),(0,r.jsx)(e.th,{style:{textAlign:"right"},children:"Total CPU (normalized)"})]})}),(0,r.jsxs)(e.tbody,{children:[(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"10"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"3.196 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,000,000,000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"25.03"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1313%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"82.06%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"50"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"3.866 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,000,000,000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"103.46"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1417%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"88.56%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"5.867 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,000,000,000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"136.35"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1495%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"93.44%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"500"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"19.25 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,000,000,000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"207.81"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"33.91 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,000,000,000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"235.92"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"5000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"162.1 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"448,785,386"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"246.71"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"10000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"332.0 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"208,428,151"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"240.94"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"50000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1,740 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"39,247,646"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"229.93"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]}),(0,r.jsxs)(e.tr,{children:[(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100000"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"3,401 ns"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"19,598,293"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"235.24"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"1600%"}),(0,r.jsx)(e.td,{style:{textAlign:"right"},children:"100.00%"})]})]})]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"Normalization: Total CPU (normalized) = Total CPU (raw) / 16, since 1600% equals full utilization on a 16\u2011core machine."}),"\n"]}),"\n",(0,r.jsx)(e.h2,{id:"observations",children:"Observations"}),"\n",(0,r.jsxs)(e.ul,{children:["\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"SIMD provides large speedups across all vector sizes"}),": overall throughput improvements range from roughly ",(0,r.jsx)(e.strong,{children:"4\u201315\xd7"})," versus Without SIMD."]}),"\n",(0,r.jsxs)(e.li,{children:["For small vectors (10\u2013100), throughput gains are about ",(0,r.jsx)(e.strong,{children:"9\u201315\xd7"}),", with ns/op reduced proportionally."]}),"\n",(0,r.jsxs)(e.li,{children:["For larger vectors (500\u2013100000), speedups stabilize around ",(0,r.jsx)(e.strong,{children:"~4\u20137\xd7"})," as memory bandwidth pressure increases."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"CPU saturation"}),": Without SIMD reaches 100% normalized CPU at and beyond 500 elements, whereas With SIMD typically operates at ~95\u201399% normalized CPU yet delivers substantially higher throughput at similar CPU."]}),"\n",(0,r.jsxs)(e.li,{children:[(0,r.jsx)(e.strong,{children:"Per\u2011CPU efficiency"}),": With SIMD, throughput per unit of CPU is much higher, reflecting better vector unit utilization and fewer instructions per element."]}),"\n",(0,r.jsx)(e.li,{children:"Absolute values depend on hardware and load; the relative differential reflects the benefit of compiler SIMD optimizations."}),"\n"]}),"\n",(0,r.jsxs)(e.blockquote,{children:["\n",(0,r.jsx)(e.p,{children:"\u26a0 Note: Absolute numbers depend on CPU frequency, memory locality, and system load. These results are meant\nto show relative SIMD benefits."}),"\n"]})]})}function g(t={}){const{wrapper:e}={...(0,n.R)(),...t.components};return e?(0,r.jsx)(e,{...t,children:(0,r.jsx)(c,{...t})}):c(t)}},8453:(t,e,i)=>{i.d(e,{R:()=>l,x:()=>h});var s=i(6540);const r={},n=s.createContext(r);function l(t){const e=s.useContext(n);return s.useMemo(function(){return"function"==typeof t?t(e):{...e,...t}},[e,t])}function h(t){let e;return e=t.disableParentContext?"function"==typeof t.components?t.components(r):t.components||r:l(t.components),s.createElement(n.Provider,{value:e},t.children)}}}]);