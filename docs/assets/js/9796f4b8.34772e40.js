"use strict";(self.webpackChunkdocs=self.webpackChunkdocs||[]).push([[5430],{8453:(e,i,n)=>{n.d(i,{R:()=>a,x:()=>l});var t=n(6540);const s={},r=t.createContext(s);function a(e){const i=t.useContext(r);return t.useMemo(function(){return"function"==typeof e?e(i):{...i,...e}},[i,e])}function l(e){let i;return i=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:a(e.components),t.createElement(r.Provider,{value:i},e.children)}},9352:(e,i,n)=>{n.r(i),n.d(i,{assets:()=>o,contentTitle:()=>l,default:()=>h,frontMatter:()=>a,metadata:()=>t,toc:()=>d});const t=JSON.parse('{"id":"skye/v1.0.0/functionalities","title":"Functionalities","description":"Core Capabilities","source":"@site/docs/skye/v1.0.0/functionalities.md","sourceDirName":"skye/v1.0.0","slug":"/skye/v1.0.0/functionalities","permalink":"/BharatMLStack/skye/v1.0.0/functionalities","draft":false,"unlisted":false,"editUrl":"https://github.com/Meesho/BharatMLStack/tree/main/docs/docs/skye/v1.0.0/functionalities.md","tags":[],"version":"current","sidebarPosition":2,"frontMatter":{"title":"Functionalities","sidebar_position":2},"sidebar":"tutorialSidebar","previous":{"title":"Architecture","permalink":"/BharatMLStack/skye/v1.0.0/architecture"},"next":{"title":"Release Notes","permalink":"/BharatMLStack/skye/v1.0.0/release-notes"}}');var s=n(4848),r=n(8453);const a={title:"Functionalities",sidebar_position:2},l="Skye - Functionalities",o={},d=[{value:"Core Capabilities",id:"core-capabilities",level:2},{value:"1. Vector Similarity Search",id:"1-vector-similarity-search",level:3},{value:"2. Pluggable Vector Database Support",id:"2-pluggable-vector-database-support",level:3},{value:"3. Model and Variant Management",id:"3-model-and-variant-management",level:3},{value:"Model Registration",id:"model-registration",level:4},{value:"Variant Registration",id:"variant-registration",level:4},{value:"Model Promotion",id:"model-promotion",level:4},{value:"4. Embedding Ingestion",id:"4-embedding-ingestion",level:3},{value:"Batch Ingestion (Reset/Delta Jobs)",id:"batch-ingestion-resetdelta-jobs",level:4},{value:"Real-Time Ingestion",id:"real-time-ingestion",level:4},{value:"5. Real-Time Data Aggregation",id:"5-real-time-data-aggregation",level:3},{value:"6. Intelligent Caching",id:"6-intelligent-caching",level:3},{value:"7. Embedded Storage",id:"7-embedded-storage",level:3},{value:"8. Retry and Fault Tolerance",id:"8-retry-and-fault-tolerance",level:3},{value:"9. Experiment Isolation",id:"9-experiment-isolation",level:3},{value:"10. Centralized Cluster Management",id:"10-centralized-cluster-management",level:3},{value:"Onboarding Flow",id:"onboarding-flow",level:2},{value:"Step-by-step Process",id:"step-by-step-process",level:3},{value:"Extending to New Tenants",id:"extending-to-new-tenants",level:3}];function c(e){const i={code:"code",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",hr:"hr",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(i.header,{children:(0,s.jsx)(i.h1,{id:"skye---functionalities",children:"Skye - Functionalities"})}),"\n",(0,s.jsx)(i.h2,{id:"core-capabilities",children:"Core Capabilities"}),"\n",(0,s.jsx)(i.h3,{id:"1-vector-similarity-search",children:"1. Vector Similarity Search"}),"\n",(0,s.jsx)(i.p,{children:"Skye provides real-time nearest-neighbor search across high-dimensional vector spaces. It supports:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Configurable distance functions"}),": DOT product, Cosine similarity, Euclidean distance"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Configurable vector dimensions"}),": Per-model vector dimension settings"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Indexed-only search"}),": Queries only search within fully indexed space, avoiding brute-force fallback on partially built indexes"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Pagination support"}),": Service-level pagination for clients, even when the underlying vector DB does not natively support it"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"2-pluggable-vector-database-support",children:"2. Pluggable Vector Database Support"}),"\n",(0,s.jsx)(i.p,{children:"The platform is designed to be vector DB agnostic:"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Generic vector config"}),": A ",(0,s.jsx)(i.code,{children:"vector_db_type"})," field and generic ",(0,s.jsx)(i.code,{children:"vectordb_config"})," replace vendor-specific configurations"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Current support"}),": Qdrant with official Go client"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Extensibility"}),": New vector databases can be integrated by implementing the vector DB interface"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"3-model-and-variant-management",children:"3. Model and Variant Management"}),"\n",(0,s.jsx)(i.h4,{id:"model-registration",children:"Model Registration"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Models are registered via API with entity type, embedding configuration, distance function, vector dimension, and training data path"}),"\n",(0,s.jsx)(i.li,{children:"Each model is associated with a store ID mapping to specific embedding and aggregator tables"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"variant-registration",children:"Variant Registration"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Variants represent different views/filters of the same model (e.g., organic, ad, commerce)"}),"\n",(0,s.jsx)(i.li,{children:"Each variant has its own filter criteria, vector DB cluster, job frequency, and version tracking"}),"\n",(0,s.jsx)(i.li,{children:"Variants share the same embeddings, eliminating data redundancy"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"model-promotion",children:"Model Promotion"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Successful experiments can be promoted from experiment clusters to production clusters via API"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"4-embedding-ingestion",children:"4. Embedding Ingestion"}),"\n",(0,s.jsx)(i.h4,{id:"batch-ingestion-resetdelta-jobs",children:"Batch Ingestion (Reset/Delta Jobs)"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Triggered via Databricks jobs that read from GCS paths"}),"\n",(0,s.jsx)(i.li,{children:"Supports separate index-space and search-space embeddings"}),"\n",(0,s.jsxs)(i.li,{children:["Per-variant ",(0,s.jsx)(i.code,{children:"to_be_indexed"})," flags control which embeddings are indexed for each variant"]}),"\n",(0,s.jsx)(i.li,{children:"EOF markers sent to all Kafka partitions ensure complete data consumption"}),"\n"]}),"\n",(0,s.jsx)(i.h4,{id:"real-time-ingestion",children:"Real-Time Ingestion"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Generic Kafka schema for all real-time consumers"}),"\n",(0,s.jsx)(i.li,{children:"Entity-based aggregation data (e.g., is_live_ad, out_of_stock) updates in real time"}),"\n",(0,s.jsx)(i.li,{children:"During model resets, real-time consumers continue pushing data to the latest collection (no pausing)"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"5-real-time-data-aggregation",children:"5. Real-Time Data Aggregation"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Entity-wise (catalog, product, user) real-time aggregation via ScyllaDB"}),"\n",(0,s.jsx)(i.li,{children:"Generic approach: aggregator tables are entity-level, not model/version-specific"}),"\n",(0,s.jsx)(i.li,{children:"All real-time data is consistent across models sharing the same entity"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"6-intelligent-caching",children:"6. Intelligent Caching"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"In-memory cache"}),": First layer, reduces load on distributed cache"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Distributed cache (Redis)"}),": Second layer for cached similarity results"]}),"\n",(0,s.jsx)(i.li,{children:"Hit rate monitoring and cache effectiveness metrics per model"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"7-embedded-storage",children:"7. Embedded Storage"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Optional embedding storage with configurable TTL"}),"\n",(0,s.jsx)(i.li,{children:"Enables embedding lookup APIs for downstream consumers"}),"\n",(0,s.jsx)(i.li,{children:"Stored in ScyllaDB with efficient binary serialization"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"8-retry-and-fault-tolerance",children:"8. Retry and Fault Tolerance"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Retry topic"}),": Failed ingestion events are published to a dedicated retry topic"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Event-driven state management"}),": Model states persist in SQL DB, surviving pod restarts"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Kafka-based admin"}),": Asynchronous processing with automatic re-consumption on failure"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"9-experiment-isolation",children:"9. Experiment Isolation"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsxs)(i.li,{children:["Dedicated EKS cluster (",(0,s.jsx)(i.code,{children:"skye-service-experiments"}),") for experiments"]}),"\n",(0,s.jsx)(i.li,{children:"Dedicated vector DB cluster for experiment workloads"}),"\n",(0,s.jsx)(i.li,{children:"Clean separation from production: experiments do not impact production performance"}),"\n",(0,s.jsx)(i.li,{children:"Promotion path from experiment to production after load analysis"}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"10-centralized-cluster-management",children:"10. Centralized Cluster Management"}),"\n",(0,s.jsxs)(i.ul,{children:["\n",(0,s.jsx)(i.li,{children:"Automated cluster provisioning via scripts (collaboration with DevOps)"}),"\n",(0,s.jsx)(i.li,{children:"Consistent configurations across all clusters (eliminates consensus issues)"}),"\n",(0,s.jsx)(i.li,{children:"Horizontal scaling support: generic scripts for adding nodes to existing clusters"}),"\n"]}),"\n",(0,s.jsx)(i.hr,{}),"\n",(0,s.jsx)(i.h2,{id:"onboarding-flow",children:"Onboarding Flow"}),"\n",(0,s.jsx)(i.h3,{id:"step-by-step-process",children:"Step-by-step Process"}),"\n",(0,s.jsxs)(i.ol,{children:["\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Data Scientist"})," provides a base GCS path where model embeddings will be pushed"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Register Model"})," via ",(0,s.jsx)(i.code,{children:"POST /register-model"})," with entity type, column mappings, model config"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Register Variant(s)"})," via ",(0,s.jsx)(i.code,{children:"POST /register-variant"})," with filter criteria, vector DB config, job frequency"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Schedule Databricks Job"})," to read data from GCS path and ingest into Skye platform"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Reset Model"})," via ",(0,s.jsx)(i.code,{children:"POST /reset-model"})," to trigger the first full ingestion"]}),"\n",(0,s.jsxs)(i.li,{children:[(0,s.jsx)(i.strong,{children:"Trigger Model Machine"})," via ",(0,s.jsx)(i.code,{children:"POST /trigger-model-machine"})," to start the indexing pipeline"]}),"\n"]}),"\n",(0,s.jsx)(i.h3,{id:"extending-to-new-tenants",children:"Extending to New Tenants"}),"\n",(0,s.jsx)(i.p,{children:"With the variant system, extending a model to a new tenant only requires registering a new variant with appropriate filters -- no re-ingestion of embeddings is needed."})]})}function h(e={}){const{wrapper:i}={...(0,r.R)(),...e.components};return i?(0,s.jsx)(i,{...e,children:(0,s.jsx)(c,{...e})}):c(e)}}}]);